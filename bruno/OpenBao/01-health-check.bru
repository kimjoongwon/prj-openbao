meta {
  name: Health Check
  type: http
  seq: 1
}

get {
  url: {{base_url}}/v1/sys/health
}

docs {
  # Health Check

  OpenBao ì„œë²„ì˜ ìƒíƒœë¥¼ í™•ì¸í•©ë‹ˆë‹¤.

  ## ì‘ë‹µ ì½”ë“œ
  - 200: ì´ˆê¸°í™”ë˜ê³  unsealed ìƒíƒœ
  - 429: unsealedì´ì§€ë§Œ standby ëª¨ë“œ
  - 472: ì¬í•´ ë³µêµ¬ ëª¨ë“œ
  - 473: ì„±ëŠ¥ standby ëª¨ë“œ
  - 501: ì´ˆê¸°í™”ë˜ì§€ ì•ŠìŒ
  - 503: sealed ìƒíƒœ
}

script:post-response {
  console.log('Status:', res.status);
  console.log('Initialized:', res.body.initialized);
  console.log('Sealed:', res.body.sealed);

  if (res.status === 200) {
    console.log('âœ… OpenBao is healthy');
  } else if (res.status === 503) {
    console.log('ğŸ”’ OpenBao is sealed');
  } else if (res.status === 501) {
    console.log('âš ï¸  OpenBao is not initialized');
  }
}
